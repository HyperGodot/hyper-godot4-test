[gd_scene load_steps=30 format=3 uid="uid://ds36d5iqtsvuh"]

[ext_resource type="PackedScene" uid="uid://th4ivyj7adfg" path="res://game/player/player_core.tscn" id="1"]
[ext_resource type="Script" path="res://game/player/player_core_local_input.gd" id="2"]
[ext_resource type="Animation" uid="uid://bhxwd0hc1xwol" path="res://assets/models/tumble/animation/default.res" id="2_3lvdg"]
[ext_resource type="Script" path="res://game/player/player_core_local_input_special.gd" id="3"]
[ext_resource type="Animation" uid="uid://b641gdt8rlxs0" path="res://assets/models/tumble/animation/idle.res" id="3_xfe16"]
[ext_resource type="PackedScene" uid="uid://bdo2nek3n4knj" path="res://game/player/grappling_hook/gh_visual_point_1.tscn" id="4"]
[ext_resource type="Animation" uid="uid://cevud8wm6itgs" path="res://assets/models/tumble/animation/walk-forward.res" id="4_s5ryo"]
[ext_resource type="PackedScene" uid="uid://cq34ge5fyxan8" path="res://game/player/player_core_local_debugui.tscn" id="5"]
[ext_resource type="Animation" uid="uid://bbo2efp3p5j45" path="res://assets/models/tumble/animation/landing.res" id="5_mqp7y"]
[ext_resource type="Animation" uid="uid://beqlu220rgebq" path="res://assets/models/tumble/animation/sprint.res" id="6_dqvc6"]
[ext_resource type="Animation" uid="uid://3m8jnrrjmb8n" path="res://assets/models/tumble/animation/dive-roll.res" id="7_t5x5g"]
[ext_resource type="Animation" uid="uid://csbbfdgwqo8tq" path="res://assets/models/tumble/animation/falling.res" id="8_86wts"]
[ext_resource type="AudioStream" uid="uid://cs26rjexov20r" path="res://assets/sounds/player/fire_grapplinghook1.mp3" id="9"]
[ext_resource type="Animation" uid="uid://cllf5vh5wfe4m" path="res://assets/models/tumble/animation/jump.res" id="9_edfyb"]
[ext_resource type="Animation" uid="uid://h4f7tog32k57" path="res://assets/models/tumble/animation/walk-backward.res" id="10_33t3r"]
[ext_resource type="Animation" uid="uid://cetrd58cpnn2x" path="res://assets/models/tumble/animation/walk-diagonal-left.res" id="11_v4hfn"]
[ext_resource type="Animation" uid="uid://crlfbbyt7jnwd" path="res://assets/models/tumble/animation/walk-diagonal-left-back.res" id="12_6r0iy"]
[ext_resource type="Animation" uid="uid://b046urodah0a1" path="res://assets/models/tumble/animation/strafe-left.res" id="13_m6doc"]
[ext_resource type="Animation" uid="uid://brqor25qijknl" path="res://assets/models/tumble/animation/walk-diagonal-right.res" id="14_6a5ke"]
[ext_resource type="Animation" uid="uid://cy81owqw5jwgd" path="res://assets/models/tumble/animation/walk-diagonal-right-back.res" id="15_htoqq"]
[ext_resource type="Animation" uid="uid://rejlngohxkgr" path="res://assets/models/tumble/animation/wall-grab-l.res" id="16_xyssk"]
[ext_resource type="Animation" uid="uid://dg0td345nrdbe" path="res://assets/models/tumble/animation/run.res" id="17_8ik7u"]
[ext_resource type="Animation" uid="uid://bkvaodakwug3e" path="res://assets/models/tumble/animation/wall-run-l.res" id="18_qntyn"]
[ext_resource type="Animation" uid="uid://4ixqttqa6txu" path="res://assets/models/tumble/animation/wall-run-r.res" id="19_3w5sk"]
[ext_resource type="Animation" uid="uid://b0vglu3hw56jb" path="res://assets/models/tumble/animation/strafe_right.res" id="20_o2xjy"]
[ext_resource type="Animation" uid="uid://diu138rt4wbo4" path="res://assets/models/tumble/animation/wall-grab-f.res" id="21_a34r2"]
[ext_resource type="Animation" uid="uid://cjiv1m5iedtef" path="res://assets/models/tumble/animation/wall-grab-r.res" id="22_548fu"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mfbj4"]
_data = {
"default": ExtResource( "2_3lvdg" ),
"dive-roll": ExtResource( "7_t5x5g" ),
"falling": ExtResource( "8_86wts" ),
"idle": ExtResource( "3_xfe16" ),
"jump": ExtResource( "9_edfyb" ),
"landing": ExtResource( "5_mqp7y" ),
"run": ExtResource( "17_8ik7u" ),
"sprint": ExtResource( "6_dqvc6" ),
"strafe-left": ExtResource( "13_m6doc" ),
"strafe-right": ExtResource( "20_o2xjy" ),
"walk-backward": ExtResource( "10_33t3r" ),
"walk-diagonal-left": ExtResource( "11_v4hfn" ),
"walk-diagonal-left-back": ExtResource( "12_6r0iy" ),
"walk-diagonal-right": ExtResource( "14_6a5ke" ),
"walk-diagonal-right-back": ExtResource( "15_htoqq" ),
"walk-forward": ExtResource( "4_s5ryo" ),
"wall_grab_f": ExtResource( "21_a34r2" ),
"wall_grab_l": ExtResource( "16_xyssk" ),
"wall_grab_r": ExtResource( "22_548fu" ),
"wall_run_l": ExtResource( "18_qntyn" ),
"wall_run_r": ExtResource( "19_3w5sk" )
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jepw0"]
_data = {
"default": ExtResource( "2_3lvdg" ),
"dive-roll": ExtResource( "7_t5x5g" ),
"falling": ExtResource( "8_86wts" ),
"idle": ExtResource( "3_xfe16" ),
"jump": ExtResource( "9_edfyb" ),
"landing": ExtResource( "5_mqp7y" ),
"run": ExtResource( "17_8ik7u" ),
"sprint": ExtResource( "6_dqvc6" ),
"strafe-left": ExtResource( "13_m6doc" ),
"strafe_right": ExtResource( "20_o2xjy" ),
"walk-backward": ExtResource( "10_33t3r" ),
"walk-diagonal-left": ExtResource( "11_v4hfn" ),
"walk-diagonal-left-back": ExtResource( "12_6r0iy" ),
"walk-diagonal-right": ExtResource( "14_6a5ke" ),
"walk-diagonal-right-back": ExtResource( "15_htoqq" ),
"walk-forward": ExtResource( "4_s5ryo" ),
"wall-grab-f": ExtResource( "21_a34r2" ),
"wall-grab-l": ExtResource( "16_xyssk" ),
"wall-grab-r": ExtResource( "22_548fu" ),
"wall-run-l": ExtResource( "18_qntyn" ),
"wall-run-r": ExtResource( "19_3w5sk" )
}

[node name="PlayerCoreLocal" instance=ExtResource( "1" )]

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/0/position = Vector3(0, 0.235168, 0)
bones/1/position = Vector3(-0.029438, 0.0211749, 0.771888)
bones/1/rotation = Quaternion(0.000375906, 0.565812, 0.824534, 0.00103834)
bones/2/rotation = Quaternion(0.106818, 1.32386e-05, -0.000146255, 0.994279)
bones/3/rotation = Quaternion(0.000845101, 0.999184, -0.0400496, -0.00513328)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.128212, 0.0050986, -0.000394213, 0.991734)
bones/5/rotation = Quaternion(-0.000745599, 0.99504, 0.0993588, 0.004815)
bones/6/rotation = Quaternion(0.0941808, 6.17544e-05, 6.35412e-06, 0.995555)
bones/7/rotation = Quaternion(0.000696197, 0.991409, 0.130705, 0.00482462)
bones/8/position = Vector3(0.021036, 0.147294, 0.0929496)
bones/8/rotation = Quaternion(-0.574533, -0.380402, -0.372139, 0.621867)
bones/9/rotation = Quaternion(0.037767, 0.752982, -0.615964, 0.228428)
bones/9/scale = Vector3(1.00607, 0.987783, 1.00607)
bones/10/rotation = Quaternion(1.48976e-07, -0.126743, -7.47887e-10, 0.991936)
bones/11/rotation = Quaternion(0.43762, -0.103929, 0.0507368, 0.891692)
bones/11/scale = Vector3(0.999515, 0.989137, 1.01123)
bones/12/rotation = Quaternion(9.76345e-07, 0.0887699, -4.90995e-07, 0.996052)
bones/13/rotation = Quaternion(-0.0705242, 0.0741511, -0.127807, 0.986506)
bones/13/scale = Vector3(0.994858, 1.01004, 0.995203)
bones/16/rotation = Quaternion(-0.00581887, 0.0016982, -0.00528009, 0.999968)
bones/17/rotation = Quaternion(0.0065653, -0.00667406, 0.0208095, 0.99974)
bones/18/rotation = Quaternion(0.178116, 0.150551, -0.33769, 0.911907)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.148158, 0.0254844, -0.0646288, 0.986521)
bones/20/rotation = Quaternion(-0.0146405, -0.0187557, 0.0313062, 0.999227)
bones/23/rotation = Quaternion(-0.0133977, -0.000793498, 0.00273888, 0.999906)
bones/24/rotation = Quaternion(-0.00209431, 0.00257172, -0.00834415, 0.99996)
bones/26/rotation = Quaternion(0.118904, 0.0306709, -0.0560406, 0.990848)
bones/27/rotation = Quaternion(-0.013392, -0.00270695, 0.00650454, 0.999885)
bones/28/rotation = Quaternion(0.000326484, -0.00915123, 0.0211577, 0.999734)
bones/30/rotation = Quaternion(0.119319, -0.0143615, 0.0193321, 0.992564)
bones/31/rotation = Quaternion(-0.0149339, 0.0107445, -0.0181568, 0.999666)
bones/32/rotation = Quaternion(0.0224833, -0.00492395, 0.00846113, 0.999699)
bones/33/position = Vector3(-0.0210362, 0.147294, 0.0929496)
bones/33/rotation = Quaternion(-0.574533, 0.380401, 0.372139, 0.621867)
bones/34/rotation = Quaternion(0.177806, 0.761236, -0.598295, -0.175918)
bones/34/scale = Vector3(1.00592, 0.987462, 1.00592)
bones/35/rotation = Quaternion(2.38357e-07, 0.110399, 6.66859e-07, 0.993887)
bones/36/rotation = Quaternion(0.338102, 0.109359, -0.038779, 0.933929)
bones/36/scale = Vector3(0.999974, 0.993164, 1.00712)
bones/37/rotation = Quaternion(-3.68039e-07, -0.129643, -1.96955e-07, 0.991561)
bones/38/rotation = Quaternion(-0.314132, -0.128754, 0.264375, 0.90269)
bones/38/scale = Vector3(0.99943, 1.00221, 0.998245)
bones/40/rotation = Quaternion(0.152494, -0.0320192, 0.0648275, 0.985656)
bones/41/rotation = Quaternion(-0.0058182, -0.00169902, 0.00528057, 0.999968)
bones/42/rotation = Quaternion(0.00656411, 0.00667606, -0.0208096, 0.99974)
bones/44/rotation = Quaternion(-0.14816, -0.0254828, 0.0646272, 0.98652)
bones/45/rotation = Quaternion(-0.0146359, 0.0187393, -0.0313094, 0.999227)
bones/47/rotation = Quaternion(0.155842, -0.0046164, 0.0101418, 0.987719)
bones/48/rotation = Quaternion(-0.0134026, 0.000799712, -0.00273872, 0.999906)
bones/49/rotation = Quaternion(-0.00209714, -0.00256799, 0.00834452, 0.99996)
bones/53/rotation = Quaternion(0.000341449, 0.00913482, -0.0211588, 0.999734)
bones/55/rotation = Quaternion(0.119319, 0.0143618, -0.0193322, 0.992564)
bones/56/rotation = Quaternion(-0.0149346, -0.0107439, 0.0181571, 0.999666)
bones/57/rotation = Quaternion(0.0224814, 0.00492577, -0.00846109, 0.999699)
bones/58/position = Vector3(0.177163, -0.0776189, -0.0479095)
bones/58/rotation = Quaternion(-3.44743e-07, 0.696936, 0.717133, 3.4553e-07)
bones/59/position = Vector3(-0.177162, -0.0776191, -0.0479098)
bones/59/rotation = Quaternion(-3.44744e-07, 0.696936, 0.717133, 3.4553e-07)
bones/60/position = Vector3(2.97301e-07, -0.12535, -0.300986)
bones/60/rotation = Quaternion(0.0142813, -4.9445e-07, 7.0621e-09, 0.999898)
bones/63/rotation = Quaternion(-0.00526412, -0.265308, 0.963798, -0.0260235)
bones/63/scale = Vector3(1.00972, 0.980523, 1.00972)
bones/64/rotation = Quaternion(2.83777e-08, -0.0022857, 9.51757e-09, 0.999997)
bones/65/rotation = Quaternion(0.642537, -0.00283286, 0.00169495, 0.766248)
bones/65/scale = Vector3(1.00059, 0.976407, 1.0237)
bones/66/rotation = Quaternion(6.48539e-09, -0.00773406, -9.25361e-08, 0.99997)
bones/67/rotation = Quaternion(-0.539795, -0.00780617, -0.0250915, 0.841386)
bones/67/scale = Vector3(0.989649, 1.00553, 1.00526)
bones/69/rotation = Quaternion(0.0180978, -0.652815, 0.750776, 0.0992007)
bones/69/scale = Vector3(1.00929, 0.981996, 1.00929)
bones/70/rotation = Quaternion(-2.86251e-08, 0.0234514, 8.86064e-09, 0.999725)
bones/71/rotation = Quaternion(0.530914, 0.0231835, -0.0149243, 0.846977)
bones/71/scale = Vector3(1.00085, 0.975863, 1.02406)
bones/72/rotation = Quaternion(2.12851e-08, 0.00707667, -2.82736e-08, 0.999975)
bones/73/rotation = Quaternion(-0.217105, 0.00690931, 0.136129, 0.966585)
bones/73/scale = Vector3(0.99221, 1.01379, 0.99384)

[node name="SkeletonIK3D" parent="Model/Armature/Skeleton3D" index="2"]
target_node = NodePath("../../../../GrapplingHook/IKTarget")

[node name="AnimationPlayer" parent="Model" index="1"]
libraries = {
"": SubResource( "AnimationLibrary_mfbj4" )
}

[node name="Sound_Jump" parent="Model" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Sound_Shoot_GrapplingHook_1" parent="Model" index="7"]
transform = Transform3D(1.53846, 0, 0, 0, 1.53846, 0, 0, 0, 1.53846, 0, 0, 0)
stream = ExtResource( "9" )
attenuation_filter_cutoff_hz = 5000.0

[node name="GrappleVisualPoint_1" parent="GrapplingHook" index="1" instance=ExtResource( "4" )]

[node name="Input" type="Node" parent="." index="4"]
script = ExtResource( "2" )

[node name="SpecialInput" type="Node" parent="." index="5"]
script = ExtResource( "3" )

[node name="CameraHead" type="Node3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1.5, 0)

[node name="CameraPivot" type="Node3D" parent="CameraHead" index="0"]

[node name="GrappleHookCast" type="RayCast3D" parent="CameraHead/CameraPivot" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.740826, 0.0206239)
target_position = Vector3(0, 0, -400)
collision_mask = 2
debug_shape_custom_color = Color(1, 0, 0, 1)
debug_shape_thickness = 5

[node name="ClippedCamera" type="Camera3D" parent="CameraHead/CameraPivot" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.5)

[node name="PlayerDebugUI" parent="." index="7" instance=ExtResource( "5" )]

[node name="AnimationPlayer" parent="." index="10"]
libraries = {
"": SubResource( "AnimationLibrary_jepw0" )
}

[connection signal="player_jump" from="Input" to="." method="_on_input_player_jump"]
[connection signal="player_mousemotion_event" from="Input" to="." method="_on_input_player_mousemotion_event"]
[connection signal="player_move" from="Input" to="." method="_on_input_player_move"]
[connection signal="player_release_grapplinghook" from="Input" to="." method="_on_input_player_release_grapplinghook"]
[connection signal="player_respawn_player" from="Input" to="." method="_on_input_player_respawn_player"]
[connection signal="player_shoot_grapplinghook" from="Input" to="." method="_on_input_player_shoot_grapplinghook"]
[connection signal="player_toggle_light" from="Input" to="." method="_on_input_player_toggle_light"]

[editable path="Model"]
