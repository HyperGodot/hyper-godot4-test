[gd_scene load_steps=30 format=3 uid="uid://ds36d5iqtsvuh"]

[ext_resource type="PackedScene" uid="uid://th4ivyj7adfg" path="res://game/player/player_core.tscn" id="1"]
[ext_resource type="Script" path="res://game/player/player_core_local_input.gd" id="2"]
[ext_resource type="Animation" uid="uid://bhxwd0hc1xwol" path="res://assets/models/tumble/animation/default.res" id="2_3lvdg"]
[ext_resource type="Script" path="res://game/player/player_core_local_input_special.gd" id="3"]
[ext_resource type="Animation" uid="uid://b641gdt8rlxs0" path="res://assets/models/tumble/animation/idle.res" id="3_xfe16"]
[ext_resource type="PackedScene" uid="uid://bdo2nek3n4knj" path="res://game/player/grappling_hook/gh_visual_point_1.tscn" id="4"]
[ext_resource type="Animation" uid="uid://cevud8wm6itgs" path="res://assets/models/tumble/animation/walk-forward.res" id="4_s5ryo"]
[ext_resource type="PackedScene" uid="uid://cq34ge5fyxan8" path="res://game/player/player_core_local_debugui.tscn" id="5"]
[ext_resource type="Animation" uid="uid://bbo2efp3p5j45" path="res://assets/models/tumble/animation/landing.res" id="5_mqp7y"]
[ext_resource type="Animation" uid="uid://beqlu220rgebq" path="res://assets/models/tumble/animation/sprint.res" id="6_dqvc6"]
[ext_resource type="Animation" uid="uid://3m8jnrrjmb8n" path="res://assets/models/tumble/animation/dive-roll.res" id="7_t5x5g"]
[ext_resource type="Animation" uid="uid://csbbfdgwqo8tq" path="res://assets/models/tumble/animation/falling.res" id="8_86wts"]
[ext_resource type="AudioStream" uid="uid://cs26rjexov20r" path="res://assets/sounds/player/fire_grapplinghook1.mp3" id="9"]
[ext_resource type="Animation" uid="uid://cllf5vh5wfe4m" path="res://assets/models/tumble/animation/jump.res" id="9_edfyb"]
[ext_resource type="Animation" uid="uid://h4f7tog32k57" path="res://assets/models/tumble/animation/walk-backward.res" id="10_33t3r"]
[ext_resource type="Animation" uid="uid://cetrd58cpnn2x" path="res://assets/models/tumble/animation/walk-diagonal-left.res" id="11_v4hfn"]
[ext_resource type="Animation" uid="uid://crlfbbyt7jnwd" path="res://assets/models/tumble/animation/walk-diagonal-left-back.res" id="12_6r0iy"]
[ext_resource type="Animation" uid="uid://b046urodah0a1" path="res://assets/models/tumble/animation/strafe-left.res" id="13_m6doc"]
[ext_resource type="Animation" uid="uid://brqor25qijknl" path="res://assets/models/tumble/animation/walk-diagonal-right.res" id="14_6a5ke"]
[ext_resource type="Animation" uid="uid://cy81owqw5jwgd" path="res://assets/models/tumble/animation/walk-diagonal-right-back.res" id="15_htoqq"]
[ext_resource type="Animation" uid="uid://rejlngohxkgr" path="res://assets/models/tumble/animation/wall-grab-l.res" id="16_xyssk"]
[ext_resource type="Animation" uid="uid://dg0td345nrdbe" path="res://assets/models/tumble/animation/run.res" id="17_8ik7u"]
[ext_resource type="Animation" uid="uid://bkvaodakwug3e" path="res://assets/models/tumble/animation/wall-run-l.res" id="18_qntyn"]
[ext_resource type="Animation" uid="uid://4ixqttqa6txu" path="res://assets/models/tumble/animation/wall-run-r.res" id="19_3w5sk"]
[ext_resource type="Animation" uid="uid://b0vglu3hw56jb" path="res://assets/models/tumble/animation/strafe_right.res" id="20_o2xjy"]
[ext_resource type="Animation" uid="uid://diu138rt4wbo4" path="res://assets/models/tumble/animation/wall-grab-f.res" id="21_a34r2"]
[ext_resource type="Animation" uid="uid://cjiv1m5iedtef" path="res://assets/models/tumble/animation/wall-grab-r.res" id="22_548fu"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mfbj4"]
_data = {
"default": ExtResource( "2_3lvdg" ),
"dive-roll": ExtResource( "7_t5x5g" ),
"falling": ExtResource( "8_86wts" ),
"idle": ExtResource( "3_xfe16" ),
"jump": ExtResource( "9_edfyb" ),
"landing": ExtResource( "5_mqp7y" ),
"run": ExtResource( "17_8ik7u" ),
"sprint": ExtResource( "6_dqvc6" ),
"strafe-left": ExtResource( "13_m6doc" ),
"strafe-right": ExtResource( "20_o2xjy" ),
"walk-backward": ExtResource( "10_33t3r" ),
"walk-diagonal-left": ExtResource( "11_v4hfn" ),
"walk-diagonal-left-back": ExtResource( "12_6r0iy" ),
"walk-diagonal-right": ExtResource( "14_6a5ke" ),
"walk-diagonal-right-back": ExtResource( "15_htoqq" ),
"walk-forward": ExtResource( "4_s5ryo" ),
"wall_grab_f": ExtResource( "21_a34r2" ),
"wall_grab_l": ExtResource( "16_xyssk" ),
"wall_grab_r": ExtResource( "22_548fu" ),
"wall_run_l": ExtResource( "18_qntyn" ),
"wall_run_r": ExtResource( "19_3w5sk" )
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jepw0"]
_data = {
"default": ExtResource( "2_3lvdg" ),
"dive-roll": ExtResource( "7_t5x5g" ),
"falling": ExtResource( "8_86wts" ),
"idle": ExtResource( "3_xfe16" ),
"jump": ExtResource( "9_edfyb" ),
"landing": ExtResource( "5_mqp7y" ),
"run": ExtResource( "17_8ik7u" ),
"sprint": ExtResource( "6_dqvc6" ),
"strafe-left": ExtResource( "13_m6doc" ),
"strafe_right": ExtResource( "20_o2xjy" ),
"walk-backward": ExtResource( "10_33t3r" ),
"walk-diagonal-left": ExtResource( "11_v4hfn" ),
"walk-diagonal-left-back": ExtResource( "12_6r0iy" ),
"walk-diagonal-right": ExtResource( "14_6a5ke" ),
"walk-diagonal-right-back": ExtResource( "15_htoqq" ),
"walk-forward": ExtResource( "4_s5ryo" ),
"wall-grab-f": ExtResource( "21_a34r2" ),
"wall-grab-l": ExtResource( "16_xyssk" ),
"wall-grab-r": ExtResource( "22_548fu" ),
"wall-run-l": ExtResource( "18_qntyn" ),
"wall-run-r": ExtResource( "19_3w5sk" )
}

[node name="PlayerCoreLocal" instance=ExtResource( "1" )]

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/0/position = Vector3(0, 0.235168, 0)
bones/1/position = Vector3(-0.0294857, 0.0211438, 0.772159)
bones/1/rotation = Quaternion(0.000344006, 0.566095, 0.824339, 0.000950204)
bones/2/rotation = Quaternion(0.106372, 1.20848e-05, -0.000133848, 0.994326)
bones/3/rotation = Quaternion(0.000773373, 0.999177, -0.0402888, -0.00469782)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.127912, 0.00466565, -0.000360719, 0.991774)
bones/5/rotation = Quaternion(-0.000682313, 0.995039, 0.0993858, 0.00440634)
bones/6/rotation = Quaternion(0.0942382, 5.65126e-05, 5.81163e-06, 0.99555)
bones/7/rotation = Quaternion(0.000637103, 0.99143, 0.130566, 0.00441509)
bones/8/position = Vector3(0.021036, 0.147372, 0.0929216)
bones/8/rotation = Quaternion(-0.574533, -0.380402, -0.372139, 0.621867)
bones/9/rotation = Quaternion(0.0377122, 0.753412, -0.615348, 0.228681)
bones/9/scale = Vector3(1.00609, 0.987752, 1.00609)
bones/10/rotation = Quaternion(1.49667e-07, -0.124096, 9.1207e-11, 0.99227)
bones/11/rotation = Quaternion(0.438577, -0.103178, 0.0505045, 0.891322)
bones/11/scale = Vector3(0.999515, 0.989107, 1.0113)
bones/12/rotation = Quaternion(9.76131e-07, 0.0864995, -4.92131e-07, 0.996252)
bones/13/rotation = Quaternion(-0.0721799, 0.0731169, -0.127922, 0.986448)
bones/13/scale = Vector3(0.994905, 1.01004, 0.995154)
bones/16/rotation = Quaternion(-0.00581887, 0.0016982, -0.00528009, 0.999968)
bones/17/rotation = Quaternion(0.0065653, -0.00667406, 0.0208095, 0.99974)
bones/18/rotation = Quaternion(0.178116, 0.150551, -0.33769, 0.911907)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.148158, 0.0254844, -0.0646288, 0.986521)
bones/20/rotation = Quaternion(-0.0146405, -0.0187557, 0.0313062, 0.999227)
bones/23/rotation = Quaternion(-0.0133977, -0.000793498, 0.00273888, 0.999906)
bones/24/rotation = Quaternion(-0.00209431, 0.00257172, -0.00834415, 0.99996)
bones/26/rotation = Quaternion(0.118904, 0.0306709, -0.0560406, 0.990848)
bones/27/rotation = Quaternion(-0.013392, -0.00270695, 0.00650454, 0.999885)
bones/28/rotation = Quaternion(0.000326484, -0.00915123, 0.0211577, 0.999734)
bones/30/rotation = Quaternion(0.119319, -0.0143615, 0.0193321, 0.992564)
bones/31/rotation = Quaternion(-0.0149339, 0.0107445, -0.0181568, 0.999666)
bones/32/rotation = Quaternion(0.0224833, -0.00492395, 0.00846113, 0.999699)
bones/33/position = Vector3(-0.0210362, 0.147372, 0.0929216)
bones/33/rotation = Quaternion(-0.574533, 0.380401, 0.372139, 0.621867)
bones/34/rotation = Quaternion(0.178206, 0.761345, -0.598046, -0.175891)
bones/34/scale = Vector3(1.00597, 0.987432, 1.00597)
bones/35/rotation = Quaternion(2.3905e-07, 0.10966, 6.66501e-07, 0.993969)
bones/36/rotation = Quaternion(0.341911, 0.108682, -0.0390558, 0.932609)
bones/36/scale = Vector3(0.999974, 0.992927, 1.00736)
bones/37/rotation = Quaternion(-3.68208e-07, -0.129935, -1.96961e-07, 0.991522)
bones/38/rotation = Quaternion(-0.314978, -0.129064, 0.264728, 0.902247)
bones/38/scale = Vector3(0.999465, 1.00217, 0.998279)
bones/40/rotation = Quaternion(0.152494, -0.0320192, 0.0648275, 0.985656)
bones/41/rotation = Quaternion(-0.0058182, -0.00169902, 0.00528057, 0.999968)
bones/42/rotation = Quaternion(0.00656411, 0.00667606, -0.0208096, 0.99974)
bones/44/rotation = Quaternion(-0.14816, -0.0254828, 0.0646272, 0.98652)
bones/45/rotation = Quaternion(-0.0146359, 0.0187393, -0.0313094, 0.999227)
bones/47/rotation = Quaternion(0.155842, -0.0046164, 0.0101418, 0.987719)
bones/48/rotation = Quaternion(-0.0134026, 0.000799712, -0.00273872, 0.999906)
bones/49/rotation = Quaternion(-0.00209714, -0.00256799, 0.00834452, 0.99996)
bones/53/rotation = Quaternion(0.000341449, 0.00913482, -0.0211588, 0.999734)
bones/55/rotation = Quaternion(0.119319, 0.0143618, -0.0193322, 0.992564)
bones/56/rotation = Quaternion(-0.0149346, -0.0107439, 0.0181571, 0.999666)
bones/57/rotation = Quaternion(0.0224814, 0.00492577, -0.00846109, 0.999699)
bones/58/position = Vector3(0.177163, -0.0775409, -0.0479375)
bones/58/rotation = Quaternion(-3.44743e-07, 0.696936, 0.717133, 3.4553e-07)
bones/59/position = Vector3(-0.177162, -0.0775411, -0.0479378)
bones/59/rotation = Quaternion(-3.44744e-07, 0.696936, 0.717133, 3.4553e-07)
bones/60/position = Vector3(2.97518e-07, -0.125272, -0.301014)
bones/60/rotation = Quaternion(0.0142813, -4.9445e-07, 7.0621e-09, 0.999898)
bones/63/rotation = Quaternion(-0.00545264, -0.262396, 0.964565, -0.0270896)
bones/63/scale = Vector3(1.00951, 0.980962, 1.00951)
bones/64/rotation = Quaternion(2.8338e-08, -0.0026095, 9.66004e-09, 0.999997)
bones/65/rotation = Quaternion(0.635927, -0.00310922, 0.00190361, 0.771741)
bones/65/scale = Vector3(1.00055, 0.976808, 1.02331)
bones/66/rotation = Quaternion(5.88382e-09, -0.0076667, -9.25636e-08, 0.999971)
bones/67/rotation = Quaternion(-0.565286, -0.00767686, -0.0273053, 0.824407)
bones/67/scale = Vector3(0.989904, 1.00448, 1.00603)
bones/69/rotation = Quaternion(0.0181281, -0.65148, 0.751912, 0.0993692)
bones/69/scale = Vector3(1.00922, 0.9821, 1.00922)
bones/70/rotation = Quaternion(-2.8665e-08, 0.023263, 9.11086e-09, 0.999729)
bones/71/rotation = Quaternion(0.527125, 0.023009, -0.0146543, 0.84935)
bones/71/scale = Vector3(1.00085, 0.976242, 1.02367)
bones/72/rotation = Quaternion(2.15633e-08, 0.00702815, -2.83905e-08, 0.999975)
bones/73/rotation = Quaternion(-0.212118, 0.00687551, 0.135746, 0.967746)
bones/73/scale = Vector3(0.992242, 1.01384, 0.993809)

[node name="SkeletonIK3D" parent="Model/Armature/Skeleton3D" index="2"]
target_node = NodePath("../../../../GrapplingHook/IKTarget")

[node name="AnimationPlayer" parent="Model" index="1"]
libraries = {
"": SubResource( "AnimationLibrary_mfbj4" )
}

[node name="Sound_Jump" parent="Model" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Sound_Shoot_GrapplingHook_1" parent="Model" index="7"]
transform = Transform3D(1.53846, 0, 0, 0, 1.53846, 0, 0, 0, 1.53846, 0, 0, 0)
stream = ExtResource( "9" )
attenuation_filter_cutoff_hz = 5000.0

[node name="GrappleVisualPoint_1" parent="GrapplingHook" index="1" instance=ExtResource( "4" )]

[node name="Input" type="Node" parent="." index="4"]
script = ExtResource( "2" )

[node name="SpecialInput" type="Node" parent="." index="5"]
script = ExtResource( "3" )

[node name="CameraHead" type="Node3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1.5, 0)

[node name="CameraPivot" type="Node3D" parent="CameraHead" index="0"]

[node name="GrappleHookCast" type="RayCast3D" parent="CameraHead/CameraPivot" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.740826, 0.0206239)
target_position = Vector3(0, 0, -400)
collision_mask = 2
debug_shape_custom_color = Color(1, 0, 0, 1)
debug_shape_thickness = 5

[node name="ClippedCamera" type="Camera3D" parent="CameraHead/CameraPivot" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.5)

[node name="PlayerDebugUI" parent="." index="7" instance=ExtResource( "5" )]

[node name="AnimationPlayer" parent="." index="10"]
libraries = {
"": SubResource( "AnimationLibrary_jepw0" )
}

[connection signal="player_jump" from="Input" to="." method="_on_input_player_jump"]
[connection signal="player_mousemotion_event" from="Input" to="." method="_on_input_player_mousemotion_event"]
[connection signal="player_move" from="Input" to="." method="_on_input_player_move"]
[connection signal="player_release_grapplinghook" from="Input" to="." method="_on_input_player_release_grapplinghook"]
[connection signal="player_respawn_player" from="Input" to="." method="_on_input_player_respawn_player"]
[connection signal="player_shoot_grapplinghook" from="Input" to="." method="_on_input_player_shoot_grapplinghook"]
[connection signal="player_toggle_light" from="Input" to="." method="_on_input_player_toggle_light"]

[editable path="Model"]
